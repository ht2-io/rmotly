# Event model for Remotly
# Represents an event triggered by a control or notification
class: Event
table: events
fields:
  ### Foreign key to the user who owns this event
  userId: int, relation(parent=users)
  ### Source type (control, webhook, system)
  sourceType: String
  ### Source identifier (control ID, topic ID, etc.)
  sourceId: String
  ### Type of event (button_press, toggle_change, webhook_received, etc.)
  eventType: String
  ### Optional event payload as JSON string
  payload: String?
  ### Optional action execution result as JSON string
  actionResult: String?
  ### Timestamp when the event occurred
  timestamp: DateTime

indexes:
  event_user_idx:
    fields: userId
    type: btree
  event_timestamp_idx:
    fields: timestamp
    type: btree
